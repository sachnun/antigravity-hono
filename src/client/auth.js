export const clientScript = "var Ie=Object.defineProperty;var pt=(e,t,r)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vt=(e,t)=>{for(var r in t)Ie(e,r,{get:t[r],enumerable:!0})};var N=(e,t,r)=>pt(e,typeof t!=\"symbol\"?t+\"\":t,r);var T={Stringify:1,BeforeStream:2,Stream:3},S=(e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},gt=/[&<>'\"]/,pe=async(e,t)=>{let r=\"\";t||(t=[]);let n=await Promise.all(e);for(let a=n.length-1;r+=n[a],a--,!(a<0);a--){let s=n[a];typeof s==\"object\"&&t.push(...s.callbacks||[]);let o=s.isEscaped;if(s=await(typeof s==\"object\"?s.toString():s),typeof s==\"object\"&&t.push(...s.callbacks||[]),s.isEscaped??o)r+=s;else{let l=[r];I(s,l),r=l[0]}}return S(r,t)},I=(e,t)=>{let r=e.search(gt);if(r===-1){t[0]+=e;return}let n,a,s=0;for(a=r;a<e.length;a++){switch(e.charCodeAt(a)){case 34:n=\"&quot;\";break;case 39:n=\"&#39;\";break;case 38:n=\"&amp;\";break;case 60:n=\"&lt;\";break;case 62:n=\"&gt;\";break;default:continue}t[0]+=e.substring(s,a)+n,s=a+1}t[0]+=e.substring(s,a)},ve=e=>{let t=e.callbacks;if(!t?.length)return e;let r=[e],n={};return t.forEach(a=>a({phase:T.Stringify,buffer:r,context:n})),r[0]},W=async(e,t,r,n,a)=>{typeof e==\"object\"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let s=e.callbacks;if(!s?.length)return Promise.resolve(e);a?a[0]+=e:a=[e];let o=Promise.all(s.map(l=>l({phase:t,buffer:a,context:n}))).then(l=>Promise.all(l.filter(Boolean).map(u=>W(u,t,!1,n,a))).then(()=>a[0]));return r?S(await o,s):o};var P=Symbol(\"RENDERER\"),M=Symbol(\"ERROR_HANDLER\"),v=Symbol(\"STASH\"),ee=Symbol(\"INTERNAL\"),te=Symbol(\"MEMO\");var ge=e=>(e[ee]=!0,e);var he=e=>({value:t,children:r})=>{if(!r)return;let n={children:[{tag:ge(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?n.children.push(...r.flat()):n.children.push(r),n.children.push({tag:ge(()=>{e.pop()}),props:{}});let a={tag:\"\",props:n,type:\"\"};return a[M]=s=>{throw e.pop(),s},a},q=e=>{let t=[e],r=he(t);return r.values=t,r.Provider=r,O.push(r),r};var O=[],re=e=>{let t=[e],r=(n=>{t.push(n.value);let a;try{a=n.children?(Array.isArray(n.children)?new Oe(\"\",{},n.children):n.children).toString():\"\"}finally{t.pop()}return a instanceof Promise?a.then(s=>S(s,s.callbacks)):S(a)});return r.values=t,r.Provider=r,r[P]=he(t),O.push(r),r},A=e=>e.values.at(-1);var G={title:[],script:[\"src\"],style:[\"data-href\"],link:[\"href\"],meta:[\"name\",\"httpEquiv\",\"charset\",\"itemProp\"]},ye={},z=\"data-precedence\";var be=e=>Array.isArray(e)?e:[e];var bt=new Map([[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"crossOrigin\",\"crossorigin\"],[\"httpEquiv\",\"http-equiv\"],[\"itemProp\",\"itemprop\"],[\"fetchPriority\",\"fetchpriority\"],[\"noModule\",\"nomodule\"],[\"formAction\",\"formaction\"]]),F=e=>bt.get(e)||e,ae=(e,t)=>{for(let[r,n]of Object.entries(e)){let a=r[0]===\"-\"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`);t(a,n==null?null:typeof n==\"number\"?a.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${n}`:`${n}px`:n)}};var je=void 0;var xt=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,\"-$1\").toLowerCase():e,Et=[\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"],wt=[\"allowfullscreen\",\"async\",\"autofocus\",\"autoplay\",\"checked\",\"controls\",\"default\",\"defer\",\"disabled\",\"download\",\"formnovalidate\",\"hidden\",\"inert\",\"ismap\",\"itemscope\",\"loop\",\"multiple\",\"muted\",\"nomodule\",\"novalidate\",\"open\",\"playsinline\",\"readonly\",\"required\",\"reversed\",\"selected\"],xe=(e,t)=>{for(let r=0,n=e.length;r<n;r++){let a=e[r];if(typeof a==\"string\")I(a,t);else{if(typeof a==\"boolean\"||a===null||a===void 0)continue;a instanceof ne?a.toStringToBuffer(t):typeof a==\"number\"||a.isEscaped?t[0]+=a:a instanceof Promise?t.unshift(\"\",a):xe(a,t)}}},ne=class{constructor(e,t,r){N(this,\"tag\");N(this,\"props\");N(this,\"key\");N(this,\"children\");N(this,\"isEscaped\",!0);N(this,\"localContexts\");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){let e=[\"\"];this.localContexts?.forEach(([t,r])=>{t.values.push(r)});try{this.toStringToBuffer(e)}finally{this.localContexts?.forEach(([t])=>{t.values.pop()})}return e.length===1?\"callbacks\"in e?ve(S(e[0],e.callbacks)).toString():e[0]:pe(e,e.callbacks)}toStringToBuffer(e){let t=this.tag,r=this.props,{children:n}=this;e[0]+=`<${t}`;let a=je&&A(je)===\"svg\"?s=>xt(F(s)):s=>F(s);for(let[s,o]of Object.entries(r))if(s=a(s),s!==\"children\"){if(s===\"style\"&&typeof o==\"object\"){let l=\"\";ae(o,(u,c)=>{c!=null&&(l+=`${l?\";\":\"\"}${u}:${c}`)}),e[0]+=' style=\"',I(l,e),e[0]+='\"'}else if(typeof o==\"string\")e[0]+=` ${s}=\"`,I(o,e),e[0]+='\"';else if(o!=null)if(typeof o==\"number\"||o.isEscaped)e[0]+=` ${s}=\"${o}\"`;else if(typeof o==\"boolean\"&&wt.includes(s))o&&(e[0]+=` ${s}=\"\"`);else if(s===\"dangerouslySetInnerHTML\"){if(n.length>0)throw new Error(\"Can only set one of `children` or `props.dangerouslySetInnerHTML`.\");n=[S(o.__html)]}else if(o instanceof Promise)e[0]+=` ${s}=\"`,e.unshift('\"',o);else if(typeof o==\"function\"){if(!s.startsWith(\"on\")&&s!==\"ref\")throw new Error(`Invalid prop '${s}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${s}=\"`,I(o.toString(),e),e[0]+='\"'}if(Et.includes(t)&&n.length===0){e[0]+=\"/>\";return}e[0]+=\">\",xe(n,e),e[0]+=`</${t}>`}};var Oe=class extends ne{toStringToBuffer(e){xe(this.children,e)}};var fe={};vt(fe,{button:()=>ct,clearCache:()=>Mt,composeRef:()=>ue,form:()=>ot,input:()=>lt,link:()=>nt,meta:()=>at,script:()=>tt,style:()=>rt,title:()=>et});var J=\"_hp\",St={Change:\"Input\",DoubleClick:\"DblClick\"},kt={svg:\"2000/svg\",math:\"1998/Math/MathML\"},R=[],we=new WeakMap,U=void 0,Ke=()=>U,D=e=>\"t\"in e,Ee={onClick:[\"click\",!1]},Be=e=>{if(!e.startsWith(\"on\"))return;if(Ee[e])return Ee[e];let t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){let[,r,n]=t;return Ee[e]=[(St[r]||r).toLowerCase(),!!n]}},_e=(e,t)=>U&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,\"-$1\").toLowerCase():t,Ct=(e,t,r)=>{t||(t={});for(let n in t){let a=t[n];if(n!==\"children\"&&(!r||r[n]!==a)){n=F(n);let s=Be(n);if(s){if(r?.[n]!==a&&(r&&e.removeEventListener(s[0],r[n],s[1]),a!=null)){if(typeof a!=\"function\")throw new Error(`Event handler for \"${n}\" is not a function`);e.addEventListener(s[0],a,s[1])}}else if(n===\"dangerouslySetInnerHTML\"&&a)e.innerHTML=a.__html;else if(n===\"ref\"){let o;typeof a==\"function\"?o=a(e)||(()=>a(null)):a&&\"current\"in a&&(a.current=e,o=()=>a.current=null),we.set(e,o)}else if(n===\"style\"){let o=e.style;typeof a==\"string\"?o.cssText=a:(o.cssText=\"\",a!=null&&ae(a,o.setProperty.bind(o)))}else{if(n===\"value\"){let l=e.nodeName;if(l===\"INPUT\"||l===\"TEXTAREA\"||l===\"SELECT\"){if(e.value=a==null||a===!1?null:a,l===\"TEXTAREA\"){e.textContent=a;continue}else if(l===\"SELECT\"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(n===\"checked\"&&e.nodeName===\"INPUT\"||n===\"selected\"&&e.nodeName===\"OPTION\")&&(e[n]=a);let o=_e(e,n);a==null||a===!1?e.removeAttribute(o):a===!0?e.setAttribute(o,\"\"):typeof a==\"string\"||typeof a==\"number\"?e.setAttribute(o,a):e.setAttribute(o,a.toString())}}}if(r)for(let n in r){let a=r[n];if(n!==\"children\"&&!(n in t)){n=F(n);let s=Be(n);s?e.removeEventListener(s[0],a,s[1]):n===\"ref\"?we.get(e)?.():e.removeAttribute(_e(e,n))}}},At=(e,t)=>{t[v][0]=0,R.push([e,t]);let r=t.tag[P]||t.tag,n=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,n)]}finally{R.pop()}},We=(e,t,r,n,a)=>{e.vR?.length&&(n.push(...e.vR),delete e.vR),typeof e.tag==\"function\"&&e[v][1][H]?.forEach(s=>a.push(s)),e.vC.forEach(s=>{if(D(s))r.push(s);else if(typeof s.tag==\"function\"||s.tag===\"\"){s.c=t;let o=r.length;if(We(s,t,r,n,a),s.s){for(let l=o;l<r.length;l++)r[l].s=!0;s.s=!1}}else r.push(s),s.vR?.length&&(n.push(...s.vR),delete s.vR)})},Rt=e=>{for(;;e=e.tag===J||!e.vC||!e.pP?e.nN:e.vC[0]){if(!e)return null;if(e.tag!==J&&e.e)return e.e}},qe=e=>{D(e)||(e[v]?.[1][H]?.forEach(t=>t[2]?.()),we.get(e.e)?.(),e.p===2&&e.vC?.forEach(t=>t.p=2),e.vC?.forEach(qe)),e.p||(e.e?.remove(),delete e.e),typeof e.tag==\"function\"&&(X.delete(e),se.delete(e),delete e[v][3],e.a=!0)},Se=(e,t,r)=>{e.c=t,Ge(e,t,r)},Fe=(e,t)=>{if(t){for(let r=0,n=e.length;r<n;r++)if(e[r]===t)return r}},Ue=Symbol(),Ge=(e,t,r)=>{let n=[],a=[],s=[];We(e,t,n,a,s),a.forEach(qe);let o=r?void 0:t.childNodes,l,u=null;if(r)l=-1;else if(!o.length)l=0;else{let c=Fe(o,Rt(e.nN));c!==void 0?(u=o[c],l=c):l=Fe(o,n.find(m=>m.tag!==J&&m.e)?.e)??-1,l===-1&&(r=!0)}for(let c=0,m=n.length;c<m;c++,l++){let i=n[c],d;if(i.s&&i.e)d=i.e,i.s=!1;else{let g=r||!i.e;D(i)?(i.e&&i.d&&(i.e.textContent=i.t),i.d=!1,d=i.e||(i.e=document.createTextNode(i.t))):(d=i.e||(i.e=i.n?document.createElementNS(i.n,i.tag):document.createElement(i.tag)),Ct(d,i.props,i.pP),Ge(i,d,g))}i.tag===J?l--:r?d.parentNode||t.appendChild(d):o[l]!==d&&o[l-1]!==d&&(o[l+1]===d?t.appendChild(o[l]):t.insertBefore(d,u||o[l]||null))}if(e.pP&&delete e.pP,s.length){let c=[],m=[];s.forEach(([,i,,d,g])=>{i&&c.push(i),d&&m.push(d),g?.()}),c.forEach(i=>i()),m.length&&requestAnimationFrame(()=>{m.forEach(i=>i())})}},Tt=(e,t)=>!!(e&&e.length===t.length&&e.every((r,n)=>r[1]===t[n][1])),se=new WeakMap,oe=(e,t,r)=>{let n=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let a;try{r||(r=typeof t.tag==\"function\"?At(e,t):be(t.props.children)),r[0]?.tag===\"\"&&r[0][M]&&(a=r[0][M],e[5].push([e,a,t]));let s=n?[...t.pC]:t.vC?[...t.vC]:void 0,o=[],l;for(let u=0;u<r.length;u++){Array.isArray(r[u])&&r.splice(u,1,...r[u].flat());let c=ze(r[u]);if(c){typeof c.tag==\"function\"&&!c.tag[ee]&&(O.length>0&&(c[v][2]=O.map(i=>[i,i.values.at(-1)])),e[5]?.length&&(c[v][3]=e[5].at(-1)));let m;if(s&&s.length){let i=s.findIndex(D(c)?d=>D(d):c.key!==void 0?d=>d.key===c.key&&d.tag===c.tag:d=>d.tag===c.tag);i!==-1&&(m=s[i],s.splice(i,1))}if(m)if(D(c))m.t!==c.t&&(m.t=c.t,m.d=!0),c=m;else{let i=m.pP=m.props;if(m.props=c.props,m.f||(m.f=c.f||t.f),typeof c.tag==\"function\"){let d=m[v][2];m[v][2]=c[v][2]||[],m[v][3]=c[v][3],!m.f&&((m.o||m)===c.o||m.tag[te]?.(i,m.props))&&Tt(d,m[v][2])&&(m.s=!0)}c=m}else if(!D(c)&&U){let i=A(U);i&&(c.n=i)}if(!D(c)&&!c.s&&(oe(e,c),delete c.f),o.push(c),l&&!l.s&&!c.s)for(let i=l;i&&!D(i);i=i.vC?.at(-1))i.nN=c;l=c}}t.vR=n?[...t.vC,...s||[]]:s||[],t.vC=o,n&&delete t.pC}catch(s){if(t.f=!0,s===Ue){if(a)return;throw s}let[o,l,u]=t[v]?.[3]||[];if(l){let c=()=>Z([0,!1,e[2]],u),m=se.get(u)||[];m.push(c),se.set(u,m);let i=l(s,()=>{let d=se.get(u);if(d){let g=d.indexOf(c);if(g!==-1)return d.splice(g,1),c()}});if(i){if(e[0]===1)e[1]=!0;else if(oe(e,u,[i]),(l.length===1||e!==o)&&u.c){Se(u,u.c,!1);return}throw Ue}}throw s}finally{a&&e[5].pop()}},ze=e=>{if(!(e==null||typeof e==\"boolean\")){if(typeof e==\"string\"||typeof e==\"number\")return{t:e.toString(),d:!0};if(\"vR\"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag==\"function\")e[v]=[0,[]];else{let t=kt[e.tag];t&&(U||(U=q(\"\")),e.props.children=[{tag:U,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Xe=(e,t,r)=>{e.c===t&&(e.c=r,e.vC.forEach(n=>Xe(n,t,r)))},He=(e,t)=>{t[v][2]?.forEach(([r,n])=>{r.values.push(n)});try{oe(e,t,void 0)}catch{return}if(t.a){delete t.a;return}t[v][2]?.forEach(([r])=>{r.values.pop()}),(e[0]!==1||!e[1])&&Se(t,t.c,!1)},X=new WeakMap,Ve=[],Z=async(e,t)=>{e[5]||(e[5]=[]);let r=X.get(t);r&&r[0](void 0);let n,a=new Promise(s=>n=s);if(X.set(t,[n,()=>{e[2]?e[2](e,t,s=>{He(s,t)}).then(()=>n(t)):(He(e,t),n(t))}]),Ve.length)Ve.at(-1).add(t);else{await Promise.resolve();let s=X.get(t);s&&(X.delete(t),s[1]())}return a},Pt=(e,t)=>{let r=[];r[5]=[],r[4]=!0,oe(r,e,void 0),r[4]=!1;let n=document.createDocumentFragment();Se(e,n,!0),Xe(e,n,t),t.replaceChildren(n)},ke=(e,t)=>{Pt(ze({tag:\"\",props:{children:e}}),t)};var Ce=(e,t,r)=>({tag:J,props:{children:e},key:r,e:t,p:1});var Ae=0,H=1,Re=2,Te=3;var Pe=new WeakMap,De=(e,t)=>!e||!t||e.length!==t.length||t.some((r,n)=>r!==e[n]);var Dt=void 0;var Je=[];var C=e=>{var o;let t=()=>typeof e==\"function\"?e():e,r=R.at(-1);if(!r)return[t(),()=>{}];let[,n]=r,a=(o=n[v][1])[Ae]||(o[Ae]=[]),s=n[v][0]++;return a[s]||(a[s]=[t(),l=>{let u=Dt,c=a[s];if(typeof l==\"function\"&&(l=l(c[0])),!Object.is(l,c[0]))if(c[0]=l,Je.length){let[m,i]=Je.at(-1);Promise.all([m===3?n:Z([m,!1,u],n),i]).then(([d])=>{if(!d||!(m===2||m===3))return;let g=d.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===d.vC&&Z([m===3?1:0,!1,u],d)})})})}else Z([0,!1,u],n)}])};var $t=(e,t,r)=>{var c;let n=R.at(-1);if(!n)return;let[,a]=n,s=(c=a[v][1])[H]||(c[H]=[]),o=a[v][0]++,[l,,u]=s[o]||(s[o]=[]);if(De(l,r)){u&&u();let m=()=>{i[e]=void 0,i[2]=t()},i=[r,void 0,void 0,void 0,void 0];i[e]=m,s[o]=i}},ie=(e,t)=>$t(3,e,t);var j=(e,t)=>{var l;let r=R.at(-1);if(!r)return e;let[,n]=r,a=(l=n[v][1])[Re]||(l[Re]=[]),s=n[v][0]++,o=a[s];return De(o?.[1],t)?a[s]=[e,t]:e=a[s][0],e};var le=e=>{let t=Pe.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>Pe.set(e,[r]),r=>Pe.set(e,[void 0,r])),e},ce=(e,t)=>{var l;let r=R.at(-1);if(!r)return e();let[,n]=r,a=(l=n[v][1])[Te]||(l[Te]=[]),s=n[v][0]++,o=a[s];return De(o?.[1],t)&&(a[s]=[e(),t]),a[s][0]};var Qe=q({pending:!1,data:null,method:null,action:null}),Ze=new Set,Ye=e=>{Ze.add(e),e.finally(()=>Ze.delete(e))};var Mt=()=>{B=Object.create(null),Q=Object.create(null)},ue=(e,t)=>ce(()=>r=>{let n;e&&(typeof e==\"function\"?n=e(r)||(()=>{e(null)}):e&&\"current\"in e&&(e.current=r,n=()=>{e.current=null}));let a=t(r);return()=>{a?.(),n?.()}},[e]),B=Object.create(null),Q=Object.create(null),Y=(e,t,r,n,a)=>{if(t?.itemProp)return{tag:e,props:t,type:e,ref:t.ref};let s=document.head,{onLoad:o,onError:l,precedence:u,blocking:c,...m}=t,i=null,d=!1,g=G[e],x;if(g.length>0){let w=s.querySelectorAll(e);e:for(let y of w)for(let p of G[e])if(y.getAttribute(p)===t[p]){i=y;break e}if(!i){let y=g.reduce((p,k)=>t[k]===void 0?p:`${p}-${k}-${t[k]}`,e);d=!Q[y],i=Q[y]||(Q[y]=(()=>{let p=document.createElement(e);for(let k of g)t[k]!==void 0&&p.setAttribute(k,t[k]),t.rel&&p.setAttribute(\"rel\",t.rel);return p})())}}else x=s.querySelectorAll(e);u=n?u??\"\":void 0,n&&(m[z]=u);let h=j(w=>{if(g.length>0){let y=!1;for(let p of s.querySelectorAll(e)){if(y&&p.getAttribute(z)!==u){s.insertBefore(w,p);return}p.getAttribute(z)===u&&(y=!0)}s.appendChild(w)}else if(x){let y=!1;for(let p of x)if(p===w){y=!0;break}y||s.insertBefore(w,s.contains(x[0])?x[0]:s.querySelector(e)),x=void 0}},[u]),b=ue(t.ref,w=>{var k;let y=g[0];if(r===2&&(w.innerHTML=\"\"),(d||x)&&h(w),!l&&!o)return;let p=B[k=w.getAttribute(y)]||(B[k]=new Promise((K,$)=>{w.addEventListener(\"load\",K),w.addEventListener(\"error\",$)}));o&&(p=p.then(o)),l&&(p=p.catch(l)),p.catch(()=>{})});if(a&&c===\"render\"){let w=G[e][0];if(t[w]){let y=t[w],p=B[y]||(B[y]=new Promise((k,K)=>{h(i),i.addEventListener(\"load\",k),i.addEventListener(\"error\",K)}));le(p)}}let E={tag:e,type:e,props:{...m,ref:b},ref:b};return E.p=r,i&&(E.e=i),Ce(E,s)},et=e=>{let t=Ke();return(t&&A(t))?.endsWith(\"svg\")?{tag:\"title\",props:e,type:\"title\",ref:e.ref}:Y(\"title\",e,void 0,!1,!1)},tt=e=>!e||[\"src\",\"async\"].some(t=>!e[t])?{tag:\"script\",props:e,type:\"script\",ref:e.ref}:Y(\"script\",e,1,!1,!0),rt=e=>!e||![\"href\",\"precedence\"].every(t=>t in e)?{tag:\"style\",props:e,type:\"style\",ref:e.ref}:(e[\"data-href\"]=e.href,delete e.href,Y(\"style\",e,2,!0,!0)),nt=e=>!e||[\"onLoad\",\"onError\"].some(t=>t in e)||e.rel===\"stylesheet\"&&(!(\"precedence\"in e)||\"disabled\"in e)?{tag:\"link\",props:e,type:\"link\",ref:e.ref}:Y(\"link\",e,1,\"precedence\"in e,!0),at=e=>Y(\"meta\",e,void 0,!1,!1),st=Symbol(),ot=e=>{let{action:t,...r}=e;typeof t!=\"function\"&&(r.action=t);let[n,a]=C([null,!1]),s=j(async c=>{let m=c.isTrusted?t:c.detail[st];if(typeof m!=\"function\")return;c.preventDefault();let i=new FormData(c.target);a([i,!0]);let d=m(i);d instanceof Promise&&(Ye(d),await d),a([null,!0])},[]),o=ue(e.ref,c=>(c.addEventListener(\"submit\",s),()=>{c.removeEventListener(\"submit\",s)})),[l,u]=n;return n[1]=!1,{tag:Qe,props:{value:{pending:l!==null,data:l,method:l?\"post\":null,action:l?t:null},children:{tag:\"form\",props:{...r,ref:o},type:\"form\",ref:o}},f:u}},it=(e,{formAction:t,...r})=>{if(typeof t==\"function\"){let n=j(a=>{a.preventDefault(),a.currentTarget.form.dispatchEvent(new CustomEvent(\"submit\",{detail:{[st]:t}}))},[]);r.ref=ue(r.ref,a=>(a.addEventListener(\"click\",n),()=>{a.removeEventListener(\"click\",n)}))}return{tag:e,props:r,type:e,ref:r.ref}},lt=e=>it(\"input\",e),ct=e=>it(\"button\",e);Object.assign(ye,{title:et,script:tt,style:rt,link:nt,meta:at,form:ot,input:lt,button:ct});var f=(e,t,r)=>(typeof e==\"string\"&&fe[e]&&(e=fe[e]),{tag:e,type:e,props:t,key:r,ref:t.ref}),_=e=>f(\"\",e,void 0);var $e=(({children:e,fallback:t,fallbackRender:r,onError:n})=>{let a=_({children:e});return a[M]=s=>{if(s instanceof Promise)throw s;return n?.(s),r?.(s)||t},a}),Me=(({children:e,fallback:t})=>{let r=_({children:e});return r[M]=(n,a)=>{if(!(n instanceof Promise))throw n;return n.finally(a),t},r});var Le=re(null),Lt=0,ut=async({children:e,fallback:t})=>{Array.isArray(e)||(e=[e]);let r=A(Le)?.scriptNonce,n=[],a={[v]:[0,[]]},s=o=>(R.pop(),o);try{a[v][0]=0,R.push([[],a]),n=e.map(o=>o==null||typeof o==\"boolean\"?\"\":o.toString())}catch(o){if(o instanceof Promise)n=[o.then(()=>(a[v][0]=0,R.push([[],a]),me(e).then(s)))];else throw o}finally{s()}if(n.some(o=>o instanceof Promise)){let o=Lt++,l=await t.toString();return S(`<template id=\"H:${o}\"></template>${l}<!--/$-->`,[...l.callbacks||[],({phase:u,buffer:c,context:m})=>{if(u!==T.BeforeStream)return Promise.all(n).then(async i=>{i=i.flat();let d=i.join(\"\");c&&(c[0]=c[0].replace(new RegExp(`<template id=\"H:${o}\"></template>.*?<!--/\\\\$-->`),d));let g=c?\"\":`<template data-hono-target=\"H:${o}\">${d}</template><script${r?` nonce=\"${r}\"`:\"\"}>\n((d,c,n) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('H:${o}')\nif(!d)return\ndo{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='/$')\nd.replaceWith(c.content)\n})(document)\n<\\/script>`,x=i.map(h=>h.callbacks||[]).flat();return x.length?(u===T.Stream&&(g=await W(g,T.BeforeStream,!0,m)),S(g,x)):g})}])}else return S(n.join(\"\"))};ut[P]=Me;var Tn=new TextEncoder;var Nt=0,me=async e=>{try{return e.flat().map(t=>t==null||typeof t==\"boolean\"?\"\":t.toString())}catch(t){if(t instanceof Promise)return await t,me(e);throw t}},ft=async({children:e,fallback:t,fallbackRender:r,onError:n})=>{if(!e)return S(\"\");Array.isArray(e)||(e=[e]);let a=A(Le)?.scriptNonce,s,o=u=>(n?.(u),(s||r?.(u)||\"\").toString()),l=[];try{l=e.map(u=>u==null||typeof u==\"boolean\"?\"\":u.toString())}catch(u){s=await t?.toString(),u instanceof Promise?l=[u.then(()=>me(e)).catch(c=>o(c))]:l=[o(u)]}if(l.some(u=>u instanceof Promise)){s||(s=await t?.toString());let u=Nt++,c=RegExp(`(<template id=\"E:${u}\"></template>.*?)(.*?)(<!--E:${u}-->)`),m=!1,i=({error:x,buffer:h})=>{if(m)return\"\";let b=o(x);return h&&(h[0]=h[0].replace(c,b)),h?\"\":`<template data-hono-target=\"E:${u}\">${b}</template><script>\n((d,c,n) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('E:${u}')\nif(!d)return\ndo{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='E:${u}')\nd.replaceWith(c.content)\n})(document)\n<\\/script>`},d,g=Promise.all(l).catch(x=>d=x);return S(`<template id=\"E:${u}\"></template><!--E:${u}-->`,[({phase:x,buffer:h,context:b})=>{if(x!==T.BeforeStream)return g.then(async E=>{if(d)throw d;E=E.flat();let w=E.join(\"\"),y=h?\"\":`<template data-hono-target=\"E:${u}\">${w}</template><script${a?` nonce=\"${a}\"`:\"\"}>\n((d,c) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('E:${u}')\nif(!d)return\nd.parentElement.insertBefore(c.content,d.nextSibling)\n})(document)\n<\\/script>`;if(E.every($=>!$.callbacks?.length))return h&&(h[0]=h[0].replace(c,w)),y;h&&(h[0]=h[0].replace(c,($,de,L,Ne)=>`${de}${w}${Ne}`));let p=E.map($=>$.callbacks||[]).flat();x===T.Stream&&(y=await W(y,T.BeforeStream,!0,b));let k=0,K=p.map($=>(...de)=>$(...de)?.then(L=>(k++,h?(k===p.length&&(h[0]=h[0].replace(c,(Ne,cr,dt)=>dt)),h[0]+=L,S(\"\",L.callbacks)):S(L+(k!==p.length?\"\":`<script>\n((d,c,n) => {\nd=d.getElementById('E:${u}')\nif(!d)return\nn=d.nextSibling\nwhile(n.nodeType!=8||n.nodeValue!='E:${u}'){n=n.nextSibling}\nn.remove()\nd.remove()\n})(document)\n<\\/script>`),L.callbacks))).catch(L=>i({error:L,buffer:h})));return S(y,K)}).catch(E=>i({error:E,buffer:h}))}])}else return S(l.join(\"\"))};ft[P]=$e;var V=()=>{let e=localStorage.getItem(\"adminKey\")||\"\";return e?{Authorization:`Bearer ${e}`}:{}};var tr=e=>{if(!e)return{text:\"Unknown\",cls:\"\"};let t=e-Date.now();if(t<=0)return{text:\"Expired\",cls:\"text-red-500\"};let r=Math.floor(t/(1e3*60*60)),n=Math.floor(t%(1e3*60*60)/(1e3*60)),a=r>0?`${r}h ${n}m`:`${n}m`,s=t<1800*1e3?\"text-amber-500\":\"text-green-500\";return{text:a,cls:s}},rr=e=>{if(!e)return null;let t=e-Date.now();if(t<=0)return\"Now\";let r=Math.floor(t/(1e3*60*60)),n=Math.floor(t%(1e3*60*60)/(1e3*60)),a=Math.floor(r/24);return a>0?`${a}d ${r%24}h`:r>0?`${r}h ${n}m`:`${n}m`},nr=e=>e===null||e<=0?\"bg-red-600\":e<=.2?\"bg-red-500\":e<=.5?\"bg-amber-500\":\"bg-green-500\",ar=({group:e})=>{let t=e.remainingFraction!==null?Math.round(e.remainingFraction*100):0,r=nr(e.remainingFraction),n=rr(e.resetTimestamp);return f(\"div\",{children:[f(\"div\",{class:\"flex justify-between items-center mb-1\",children:[f(\"span\",{class:\"text-xs text-neutral-300\",children:e.displayName}),f(\"span\",{class:\"text-xs text-neutral-500\",children:[t,\"%\"]})]}),f(\"div\",{class:\"h-2 bg-neutral-800 rounded-full overflow-hidden\",children:f(\"div\",{class:`h-full rounded-full transition-all ${r}`,style:{width:`${t}%`}})}),n&&f(\"div\",{class:\"text-[11px] text-neutral-600 mt-1\",children:[\"Reset: \",n]})]})},sr=({account:e,isAdmin:t,onDelete:r})=>{let n=e.email,a=e.quota,s=e.rateLimitUntil?.gemini,o=e.rateLimitUntil?.claude,l=s&&Date.now()<s||o&&Date.now()<o,u=e.expiresAt?tr(e.expiresAt):null;return f(\"div\",{class:`bg-neutral-900 border rounded-lg p-4 mb-3 ${l?\"border-amber-500 bg-amber-500/5\":\"border-neutral-800\"}`,children:[f(\"div\",{class:\"flex justify-between items-center mb-3\",children:[f(\"span\",{class:\"font-semibold text-white text-sm\",children:n}),f(\"div\",{class:\"flex gap-2\",children:[(()=>{if(!e.tier||e.tier===\"unknown\")return null;let m=e.tier.toLowerCase().includes(\"pro\")||e.tier===\"standard-tier\",i=e.tier===\"free-tier\",d=m?\"bg-green-600\":i?\"bg-blue-600\":\"bg-neutral-600\",g=m?\"PRO\":i?\"FREE\":e.tier.toUpperCase();return f(\"span\",{class:`px-2 py-0.5 rounded text-xs font-semibold text-white ${d}`,children:g})})(),l&&f(\"span\",{class:\"bg-amber-500 text-black px-2 py-0.5 rounded text-xs font-semibold\",children:\"RATE LIMITED\"})]})]}),t&&e.projectId&&f(\"div\",{class:\"text-xs text-neutral-500 space-y-1\",children:[f(\"div\",{class:\"flex justify-between\",children:[f(\"span\",{children:\"Project ID\"}),f(\"span\",{children:e.projectId})]}),u&&f(\"div\",{class:\"flex justify-between\",children:[f(\"span\",{children:\"Expires\"}),f(\"span\",{class:u.cls,children:u.text})]})]}),a?.status===\"success\"&&a.groups&&f(\"div\",{class:`space-y-3 ${t&&e.projectId?\"mt-4\":\"\"}`,children:a.groups.map(m=>f(ar,{group:m}))}),a?.status===\"error\"&&f(\"div\",{class:\"text-red-500 text-xs p-2 bg-red-500/10 rounded mt-3\",children:a.error||\"Failed to fetch quota\"}),t&&r&&f(\"div\",{class:\"flex gap-2 mt-3\",children:f(\"button\",{class:\"px-3 py-1.5 text-xs font-medium rounded bg-red-600 hover:bg-red-700 text-white\",onClick:()=>r(n),children:\"Delete\"})})]})},or=({onLogin:e})=>{let[t,r]=C(\"\");return f(\"div\",{class:\"p-5 bg-neutral-900 rounded-lg border border-neutral-800\",children:[f(\"div\",{class:\"text-xs font-semibold text-neutral-400 uppercase tracking-wide mb-3\",children:\"Admin Login\"}),f(\"input\",{type:\"password\",value:t,onInput:n=>r(n.target.value),placeholder:\"Enter Admin Key\",class:\"w-full px-3 py-3 rounded-md border border-neutral-700 bg-neutral-950 text-neutral-300 text-sm font-mono focus:outline-none focus:border-blue-500\"}),f(\"button\",{class:\"w-full mt-3 px-4 py-2.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors\",onClick:()=>e(t),children:\"Login\"})]})},ir=({onSuccess:e})=>{let[t,r]=C(\"\"),[n,a]=C(!1),[s,o]=C(\"\"),[l,u]=C(null);return f(\"div\",{class:\"p-5 bg-neutral-900 rounded-lg border border-neutral-800 h-fit lg:sticky lg:top-6\",children:[f(\"div\",{class:\"text-xs font-semibold text-neutral-400 uppercase tracking-wide mb-4\",children:\"Add Account\"}),f(\"div\",{class:\"flex gap-3 mb-4\",children:[f(\"div\",{class:\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-semibold text-white shrink-0\",children:\"1\"}),f(\"div\",{class:\"flex-1\",children:[f(\"p\",{class:\"text-neutral-400 text-sm mb-2\",children:\"Generate OAuth URL\"}),f(\"button\",{class:\"w-full px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 disabled:bg-neutral-700 disabled:cursor-not-allowed text-white text-sm font-medium transition-colors\",onClick:async()=>{a(!0);try{let d=await(await fetch(\"/auth/authorize?redirectUri=http://localhost:9999/\",{headers:V()})).json();r(d.url)}catch{u({type:\"error\",message:\"Failed to generate URL\"})}a(!1)},disabled:n||!!t,children:n?\"Generating...\":t?\"URL Generated\":\"Generate Auth URL\"}),t&&f(_,{children:[f(\"div\",{class:\"mt-2 p-2 bg-neutral-950 border border-neutral-700 rounded-md font-mono text-xs break-all max-h-20 overflow-y-auto\",children:t}),f(\"div\",{class:\"flex gap-2 mt-2\",children:[f(\"button\",{class:\"flex-1 px-3 py-1.5 text-xs font-medium rounded bg-neutral-700 hover:bg-neutral-600 text-white transition-colors\",onClick:()=>navigator.clipboard.writeText(t),children:\"Copy\"}),f(\"button\",{class:\"flex-1 px-3 py-1.5 text-xs font-medium rounded bg-blue-600 hover:bg-blue-700 text-white transition-colors\",onClick:()=>window.open(t,\"_blank\"),children:\"Open\"})]})]})]})]}),f(\"div\",{class:\"flex gap-3\",children:[f(\"div\",{class:\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-semibold text-white shrink-0\",children:\"2\"}),f(\"div\",{class:\"flex-1\",children:[f(\"p\",{class:\"text-neutral-400 text-sm mb-2\",children:\"Paste callback URL\"}),f(\"textarea\",{value:s,onInput:i=>o(i.target.value),placeholder:\"http://localhost:9999/?state=...&code=...\",class:\"w-full px-3 py-2 rounded-md border border-neutral-700 bg-neutral-950 text-neutral-300 text-sm font-mono focus:outline-none focus:border-blue-500 resize-y min-h-16\"}),f(\"button\",{class:\"w-full mt-2 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors\",onClick:async()=>{if(!s.trim()){u({type:\"error\",message:\"Please paste the callback URL\"});return}u(null);try{let i=new URL(s),d=i.searchParams.get(\"code\"),g=i.searchParams.get(\"state\");if(!d||!g){u({type:\"error\",message:\"Invalid URL - missing code or state\"});return}let x=await fetch(\"/auth/callback\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",...V()},body:JSON.stringify({code:d,state:g,redirectUri:\"http://localhost:9999/\"})}),h=await x.json();x.ok?(u({type:\"success\",message:`Added: ${h.email}`}),o(\"\"),r(\"\"),e()):u({type:\"error\",message:h.error||\"Exchange failed\"})}catch(i){u({type:\"error\",message:`Error: ${i.message}`})}},children:\"Add Account\"}),l&&f(\"div\",{class:`text-sm mt-2 ${l.type===\"success\"?\"text-green-500\":\"text-red-500\"}`,children:l.message})]})]})]})},lr=()=>{let[e,t]=C(!!localStorage.getItem(\"adminKey\")),[r,n]=C([]),[a,s]=C(!0),[o,l]=C(!1),[u,c]=C(!1),m=async()=>{try{let E=await(await fetch(\"/admin/accounts\",{headers:V()})).json();n(E.accounts||[]),t(E.isAdmin??!1)}catch{n([])}s(!1)};ie(()=>{m();let b=setInterval(m,1e4);return()=>clearInterval(b)},[]);let i=b=>{localStorage.setItem(\"adminKey\",b),t(!0),m()},d=()=>{localStorage.removeItem(\"adminKey\"),t(!1),m()},g=async b=>{if(confirm(`Delete account ${b}?`))try{(await fetch(`/admin/token?email=${encodeURIComponent(b)}`,{method:\"DELETE\",headers:V()})).ok?m():alert(\"Delete failed\")}catch{alert(\"Delete failed\")}};return f(\"div\",{class:\"max-w-5xl w-full mx-auto\",children:[f(\"div\",{class:\"flex justify-between items-center mb-6\",children:[f(\"div\",{children:[f(\"h1\",{class:\"text-2xl font-semibold text-white\",children:\"Antigravity Auth\"}),f(\"p\",{class:\"text-neutral-500 text-sm\",children:\"Multi-account Google OAuth token management\"})]}),e&&f(\"button\",{class:\"px-3 py-1.5 text-xs font-medium rounded bg-neutral-700 hover:bg-neutral-600 text-white transition-colors\",onClick:d,children:\"Logout\"})]}),f(\"div\",{class:\"grid grid-cols-1 lg:grid-cols-5 gap-6\",children:[f(\"div\",{class:\"lg:col-span-3 p-5 bg-neutral-900 rounded-lg border border-neutral-800\",children:[f(\"div\",{class:\"flex justify-between items-center mb-3\",children:[f(\"div\",{class:\"text-xs font-semibold text-neutral-400 uppercase tracking-wide\",children:\"Accounts\"}),e&&f(\"div\",{class:\"flex gap-2\",children:[f(\"button\",{class:\"px-3 py-1.5 text-xs font-medium rounded bg-neutral-700 hover:bg-neutral-600 text-white transition-colors disabled:opacity-50\",onClick:async()=>{l(!0);try{let b=await fetch(\"/admin/token/refresh\",{method:\"POST\",headers:V()}),E=await b.json();b.ok?(alert(`Refreshed ${E.refreshed} token(s)`),m()):alert(E.error||\"Refresh failed\")}catch{alert(\"Refresh failed\")}l(!1)},disabled:o,children:o?\"Refreshing...\":\"Refresh All\"}),f(\"button\",{class:\"px-3 py-1.5 text-xs font-medium rounded bg-amber-600 hover:bg-amber-700 text-white transition-colors disabled:opacity-50\",onClick:async()=>{c(!0);try{let b=await fetch(\"/admin/warmup\",{method:\"POST\",headers:V()}),E=await b.json();if(b.ok&&E.results){let w=E.results.filter(p=>p.warmedUp.length>0),y=E.results.filter(p=>p.skipped.length>0&&p.warmedUp.length===0);alert(`Warmup complete!\nWarmed: ${w.length} account(s)\nSkipped: ${y.length} account(s)`),m()}else alert(\"Warmup failed\")}catch{alert(\"Warmup failed\")}c(!1)},disabled:u,children:u?\"Warming...\":\"Warmup\"})]})]}),a?f(\"div\",{class:\"flex items-center gap-2 p-3 rounded-md text-sm bg-blue-500/10 border border-blue-500/30 text-blue-500\",children:[f(\"span\",{class:\"w-2 h-2 rounded-full bg-current\"}),f(\"span\",{children:\"Loading...\"})]}):f(\"div\",{class:\"flex items-center gap-2 p-3 rounded-md text-sm bg-green-500/10 border border-green-500/30 text-green-500\",children:[f(\"span\",{class:\"w-2 h-2 rounded-full bg-current\"}),f(\"span\",{children:[r.length,\" account(s) \",e?\"configured\":\"available\"]})]}),f(\"div\",{class:\"mt-4 max-h-[calc(100vh-280px)] overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-700 scrollbar-track-transparent hover:scrollbar-thumb-neutral-600\",children:r.map(b=>f(sr,{account:b,isAdmin:e,onDelete:e?g:void 0}))})]}),f(\"div\",{class:\"lg:col-span-2 space-y-4\",children:[!e&&f(or,{onLogin:i}),e&&f(ir,{onSuccess:m})]})]})]})},mt=document.getElementById(\"root\");mt&&ke(f(lr,{}),mt);\n"
